\hypertarget{namespacego__to__point}{}\doxysection{go\+\_\+to\+\_\+point Namespace Reference}
\label{namespacego__to__point}\index{go\_to\_point@{go\_to\_point}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}{clbk\+\_\+odom}} (msg)
\item 
def \mbox{\hyperlink{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}{change\+\_\+state}} (state)
\item 
def \mbox{\hyperlink{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}{normalize\+\_\+angle}} (angle)
\begin{DoxyCompactList}\small\item\em The normalize\+\_\+angle function. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_a9c3011a3065fcbefcc1c5ad8c9979669}{fix\+\_\+yaw}} (des\+\_\+pos)
\item 
def \mbox{\hyperlink{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}{go\+\_\+straight\+\_\+ahead}} (des\+\_\+pos)
\item 
def \mbox{\hyperlink{namespacego__to__point_a4a406386ca62830c19c93949e923f7bd}{fix\+\_\+final\+\_\+yaw}} (des\+\_\+yaw)
\item 
def \mbox{\hyperlink{namespacego__to__point_ac2587220a4ac9c845bc9c5b0b45d5835}{done}} ()
\item 
def \mbox{\hyperlink{namespacego__to__point_a2203d17b7e563bee20ed4c988548df45}{go\+\_\+to\+\_\+point}} (goal)
\item 
def \mbox{\hyperlink{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}{main}} ()
\begin{DoxyCompactList}\small\item\em Documentation for the main function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacego__to__point_a91dbaab25e6080f6b5dbf82cac6ce75c}\label{namespacego__to__point_a91dbaab25e6080f6b5dbf82cac6ce75c}} 
{\bfseries position\+\_\+} = Point()
\item 
\mbox{\Hypertarget{namespacego__to__point_acafa50d4a3b16d8605fa03a28b48e828}\label{namespacego__to__point_acafa50d4a3b16d8605fa03a28b48e828}} 
{\bfseries pose\+\_\+} = Pose()
\item 
\mbox{\Hypertarget{namespacego__to__point_ae444f19eb2019982432760ace036ce03}\label{namespacego__to__point_ae444f19eb2019982432760ace036ce03}} 
int {\bfseries yaw\+\_\+} = 0
\item 
\mbox{\Hypertarget{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}\label{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}} 
int {\bfseries state\+\_\+} = 0
\item 
\mbox{\Hypertarget{namespacego__to__point_a57b4090d0abcbcf0bfa2bcb9329d3036}\label{namespacego__to__point_a57b4090d0abcbcf0bfa2bcb9329d3036}} 
\mbox{\hyperlink{namespacego__to__point_a57b4090d0abcbcf0bfa2bcb9329d3036}{pub\+\_\+}} = None
\begin{DoxyCompactList}\small\item\em publisher \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespacego__to__point_a03b48b610dbd224a38eb226c1b2ba23d}\label{namespacego__to__point_a03b48b610dbd224a38eb226c1b2ba23d}} 
{\bfseries desired\+\_\+position\+\_\+} = Point()
\item 
\mbox{\Hypertarget{namespacego__to__point_a2fd68a76b8583598a4bceccdeae5d73b}\label{namespacego__to__point_a2fd68a76b8583598a4bceccdeae5d73b}} 
{\bfseries z}
\item 
\mbox{\Hypertarget{namespacego__to__point_ac115eebd2e2cccfd63512fec9d40cf1c}\label{namespacego__to__point_ac115eebd2e2cccfd63512fec9d40cf1c}} 
bool {\bfseries success} = False
\item 
\mbox{\Hypertarget{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}\label{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}} 
int {\bfseries yaw\+\_\+precision\+\_\+} = math.\+pi / 9
\item 
\mbox{\Hypertarget{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}\label{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}} 
int {\bfseries yaw\+\_\+precision\+\_\+2\+\_\+} = math.\+pi / 90
\item 
\mbox{\Hypertarget{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}\label{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}} 
float {\bfseries dist\+\_\+precision\+\_\+} = 0.\+1
\item 
\mbox{\Hypertarget{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}\label{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}} 
float {\bfseries kp\+\_\+a} = -\/3.\+0
\item 
\mbox{\Hypertarget{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}\label{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}} 
float {\bfseries kp\+\_\+d} = 0.\+2
\item 
\mbox{\Hypertarget{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}\label{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}} 
float \mbox{\hyperlink{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}{ub\+\_\+a}} = 0.\+6
\begin{DoxyCompactList}\small\item\em Maximum angular speed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespacego__to__point_afecad4058844db05d8321199e25b4498}\label{namespacego__to__point_afecad4058844db05d8321199e25b4498}} 
float {\bfseries lb\+\_\+a} = -\/0.\+5
\item 
\mbox{\Hypertarget{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}\label{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}} 
float \mbox{\hyperlink{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}{ub\+\_\+d}} = 0.\+6
\begin{DoxyCompactList}\small\item\em Maximum linear speed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespacego__to__point_a64583fad586a7212c40613ec1c3e7c69}\label{namespacego__to__point_a64583fad586a7212c40613ec1c3e7c69}} 
{\bfseries act\+\_\+s} = None
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}.. module:: go_to_point
     :platform: Unix
     :synopsis: Python module for piloting the robot to the target
   
     :moduleauthor:: Vishal Vallamkonda <vvishal243@yahoo.com>

ROS node for driving a robot to a specific point

Subscribes to:
    /odom topic where the simulator publishes the robot position
    
Publishes to:
    /cmd_vel the desired robot position
    
Service :
    /go_to_point to start the robot motion.

This node define the movememnt of the holonomic robot using the go_to_point algorithm\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}\label{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}} 
\index{go\_to\_point@{go\_to\_point}!change\_state@{change\_state}}
\index{change\_state@{change\_state}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{change\_state()}{change\_state()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+change\+\_\+state (\begin{DoxyParamCaption}\item[{}]{state }\end{DoxyParamCaption})}

\begin{DoxyVerb}Function to specify the state value

Update the current global state

Args: 
    state (int):  new state\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}\label{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}} 
\index{go\_to\_point@{go\_to\_point}!clbk\_odom@{clbk\_odom}}
\index{clbk\_odom@{clbk\_odom}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{clbk\_odom()}{clbk\_odom()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+clbk\+\_\+odom (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}

\begin{DoxyVerb}This Callback is for the subscriber to topic odom. It keeps track of the robot pose.

Args:
    msg(Odometry): the message received
Returns: none
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_ac2587220a4ac9c845bc9c5b0b45d5835}\label{namespacego__to__point_ac2587220a4ac9c845bc9c5b0b45d5835}} 
\index{go\_to\_point@{go\_to\_point}!done@{done}}
\index{done@{done}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{done()}{done()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb}Calling this function, the robot will stop

Args: none
Returns: none
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a4a406386ca62830c19c93949e923f7bd}\label{namespacego__to__point_a4a406386ca62830c19c93949e923f7bd}} 
\index{go\_to\_point@{go\_to\_point}!fix\_final\_yaw@{fix\_final\_yaw}}
\index{fix\_final\_yaw@{fix\_final\_yaw}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{fix\_final\_yaw()}{fix\_final\_yaw()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+fix\+\_\+final\+\_\+yaw (\begin{DoxyParamCaption}\item[{}]{des\+\_\+yaw }\end{DoxyParamCaption})}

\begin{DoxyVerb}Function for fixing the final angle of the robot, to the final position

Args:
    des_yaw(float): the desiderd yaw
Returns: none
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a9c3011a3065fcbefcc1c5ad8c9979669}\label{namespacego__to__point_a9c3011a3065fcbefcc1c5ad8c9979669}} 
\index{go\_to\_point@{go\_to\_point}!fix\_yaw@{fix\_yaw}}
\index{fix\_yaw@{fix\_yaw}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{fix\_yaw()}{fix\_yaw()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+fix\+\_\+yaw (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}

\begin{DoxyVerb}Orient the robot in a desired way
Args:  des_yaw (float):  desired yaw
    next_state (int): next state to set\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}\label{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}} 
\index{go\_to\_point@{go\_to\_point}!go\_straight\_ahead@{go\_straight\_ahead}}
\index{go\_straight\_ahead@{go\_straight\_ahead}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{go\_straight\_ahead()}{go\_straight\_ahead()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+straight\+\_\+ahead (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}

\begin{DoxyVerb}Function for going straight ahead to the target.

Args:
    des_pos(Point): the desiderd pose
Returns: none
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a2203d17b7e563bee20ed4c988548df45}\label{namespacego__to__point_a2203d17b7e563bee20ed4c988548df45}} 
\index{go\_to\_point@{go\_to\_point}!go\_to\_point@{go\_to\_point}}
\index{go\_to\_point@{go\_to\_point}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{go\_to\_point()}{go\_to\_point()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+to\+\_\+point (\begin{DoxyParamCaption}\item[{}]{goal }\end{DoxyParamCaption})}

\begin{DoxyVerb}It is the action callback. The script will remain inside this function, due to the while loop.
Here it will wait for new goal, ask the robot to reach them and delete goal if required. The state will also be updated

Args:
    goal(rt2_assignment1.msg.go_to_pointActionGoal): goal of the robot
Returns: none
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}\label{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}} 
\index{go\_to\_point@{go\_to\_point}!main@{main}}
\index{main@{main}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Documentation for the main function. 

More details.


\begin{DoxyParams}{Parameters}
{\em None} & \begin{DoxyVerb}Main function to manage 
the robot behaviour
Including :
- the initialization of the *go_to_point*  node
- the publisher for the "\cmd_vel" topic
- the subscriber to the "\odom" topic
- the action server *\go_to_point*
\end{DoxyVerb}
 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}\label{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}} 
\index{go\_to\_point@{go\_to\_point}!normalize\_angle@{normalize\_angle}}
\index{normalize\_angle@{normalize\_angle}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{normalize\_angle()}{normalize\_angle()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+normalize\+\_\+angle (\begin{DoxyParamCaption}\item[{}]{angle }\end{DoxyParamCaption})}



The normalize\+\_\+angle function. 

It performs normalazation of an angle . \begin{DoxyVerb}Function for normalizing the angle between -pi and pi.

Args:
    angle(Float): the input angle
Returns:angle(Float):
    the normalized angle.
\end{DoxyVerb}
 